# 20220822

## #Auto Layout

## 목차

- 학습한 내용
- 정리
- 더 공부할 점

## 학습한 내용

### Auto Layout이란?

오제약조건(Constraints)에 따라 화면에 있는 모든 뷰의 크기와 위치를 동적으로 계산하여 나타내줍니다. 즉, 다양한 크기의 화면들에서 모두 일정한 위치와 크기를 갖게 해주는 역할입니다.

-------------

### Auto Layout을 쓰는 이유

오토 레이아웃을 쓰는 이유 중 우리가 쉽게 접할 수 있는 두가지가 있습니다.

1. iOS기반 디바이스들의 사이즈가 일정하지 않고 여러 크기로 존재하기 때문에, 오토 레이아웃으로 지정하지 않을 경우 뷰들의 위치를 가늠할 수 없다.
2. 화면 회전 시 뷰의 위치가 바뀐다.



오토레이아웃이 애플리케이션을 사용할 때 나타나는 외부변경과 내부변경에 동적으로 반응하여 사용자 인터페이스를 가능하게 합니다. 

### 외부 변경 사항

슈퍼뷰의 크기나 모양이 변경되면 외부 변경이 발생합니다.  각각의 변화와 함께, 사용 가능한 공간을 가장 잘 사용할 수 있도록 뷰 체계의 레이아웃을 업데이트해줘야 합니다.

- 사용자가 창 크기를 조정합니다(OS X).
- 사용자가 iPad(iOS)에서 Split View를 시작하거나 종료합니다.
- 기기가 회전합니다(iOS).
- 활성 통화 및 오디오 녹음 막대가 나타나거나 사라집니다(iOS).
- 다양한 크기의 클래스를 지원하려고 합니다.
- 다양한 화면 크기를 지원하려고 합니다.

### 내부 변경 사항

내부 변경은 사용자 인터페이스의 보기 또는 컨트롤 크기가 변경될 때 발생합니다.

다음은 내부 변경의 몇 가지 일반적인 소스입니다.

- 앱에서 표시하는 콘텐츠가 변경됩니다.
- 앱은 국제화를 지원합니다.
- 앱은 동적 유형(iOS)을 지원합니다.

-----

### Frame Based Layout & Autoresizing Mask & Auto Layout

뷰들을 크기와 위치를 관리하는 것은 세가지입니다. 

**Frame Based Layout**

프레임은 슈퍼뷰의 좌표계에서 뷰의 원점, 높이 및 너비를 정의합니다. 뷰들에 대해 모든 크기와 위치를 계산해야 하며, 변경사항이 발생하면 영향을 받는 모든 뷰에 대한 프레임을 다시 계산해야하는 번거로움과 복잡성이 존재합니다.

또한, 화면 크기가 다른 기기에서 실행시키면 원하던 모양대로 나오지 않습니다. 이를 보완하기 위해 Auto Layout을 사용합니다.



**AutoResizing Mask**

슈퍼뷰의 bound가 변할 때, 슈퍼뷰와 관련된 뷰들이 스스로 size를 변경할 수 있게 하는 C 비트 OR 연산자 사용에 설명된 상수를 결합하는 마스크입니다. 특정 뷰의 bound가 변하면, 뷰는 자동으로 서브뷰 각자의 오토리사이징마스크에 따라서 서브뷰들의 크기를 변경합니다.



**Auto Layout**



- 오토레이아웃 속성

![111](https://user-images.githubusercontent.com/88870642/185876628-b93fcd74-3a02-4a21-9cde-cf12dfd1d182.png)



- Width : 뷰의 너비
- Height : 뷰의 높이
- Top : 뷰의 상단
- Bottom : 뷰의 하단
- Baseline : 텍스트의 하단
- Horizontal : 수평
- Vertical : 수직
- Leading : 리딩, 텍스트를 읽을 때 시작 방향
- Trailing : 트레일링, 텍스트를 읽을 때 끝 방향 

   ⌁ (나라의 글자마다 시작 방향이 다를 수 있어 Leading과 Trailing이 바뀔 수 있음) ⌁

- CenterX : 수평 중심
- CenterY : 수직 중심





오토레이아웃은 방정식의 한형태라고 볼 수 있습니다. 

쉽게 말해서 y = ax + b 의 형태입니다. y와 x는 각가의 뷰이며 y와 x의 크기를 a를 통해 상대적으로 나타냅니다.



**예시**

![222](https://user-images.githubusercontent.com/88870642/185917624-e431ed8a-aa61-4aab-a48c-90074d50563f.png)



- Item1 :  첫 번째 아이템은 반드시 뷰 또는 레이아웃 가이드이어야 합니다.
- Attribute1 : 첫번째 아이템에 대한 속성입니다. RedView의 Leading입니다.
- Multiplier : 속성 2에 곱해지는 값입니다. 값은 1.0 입니다.
- Item2 : 방정식에 있는 두 번째 아이템(BlueView) 입니다.
- Attribute2 : 두번째 아이템에 대한 속성입니다. 이 경우, A View의 트레일링입니다.
- Constant : 두번째 아이템의 속성에 더해지는 상수 값입니다.



## 더 공부할 점 

- 뷰컨트롤러 생명주기

- Weak, strong, unowned (메모리 참조 방법)





## 참고

- https://skytitan.tistory.com/m/510
- https://developer.apple.com/

- https://www.boostcourse.org/mo326/lecture/16848?isDesc=false