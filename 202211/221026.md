# 221026



## Multipart/form-data



### HTTP란?

인터넷 상에서 클라이언트와 서버가 자원을 주고받을 때 쓰는 통신 규약 



### 클라이언트 -> 서버 파일 업로드하는 과정 

이미지 파일을 전송한다고 해서 이메일에 첨부파일을 붙여 메일을 보내는 것처럼 png나 jpg 파일 자체가 전송되는 것이 아니다. 

이미지 파일도 문자로 이뤄져 있기 때문에 이미지 파일을 스펙에 맞게 문자로 생성해야 HTTP request body에 담아 서버로 전송할 수 있다.

![image-20221027130257085](/Users/ksj8277/Library/Application Support/typora-user-images/image-20221027130257085.png)

HTTP(request와 response)는 간단하게 위 이미지와 같이 4개의 파트로 나눌 수 있다.

Message Body에 들어가는 데이터 타입을 HTTP Header에 명시해주며, 그 필드가 Content-type이다.

Content-type 필드에 MIME 타입을 기술해줄 수 있는데, 여러 타입 중 하나가 바로 multipart다.

multipart 타입을 통해 MIM은 트리 구조의 메세지 형식을 정의할 수 있다.



Multipart/ alternative 

Multipart 메세지 

- 서로 붙어있는 여러 개의 메시지를 포함하여 하나의 복합 메세지로 보냄

- MIME multipart 메세지는 "Content-type:"헤더에 boundary 파라미터를 포함한다.
- boundary는 메세지 파트를 구분하는 역할을 하며, 메세지의 시작과 끝 부분도 나타난다. 
- 



Boundary 

고유하고 다소 임의적인 값을 가져야 함 

멀티 파트 양식이 항상 한번에 서버에 전송되는 것이 아니고 청크 단위로 전송되기 때문에 서버는 전송하는 양식의 특정 부분이 언제 시작하는지, 끝나는지 알 수 있는 방법이 필요하다. 이것이 Boundary를 사용하는 이유이다.

이것은 수신 서버가 읽을 수 있는 첫 번째 항목이기 때문에 헤더에서 전달되어야 한다. 



GET vs POST

GET 방식은 데이터를 요청할 때 이 요청하는 데이터가 Header 부분의 URL에 담겨서 전송된다.



Post 방식은 Header 부분에 데이터를 담는 GET 방식과 다르게 Body 부분에 데이터를 담아 전송한다. 

URL : 인터넷상의 자원의 위치 

![스크린샷 2022-10-28 오후 1.13.04](/Users/ksj8277/Desktop/캡쳐/스크린샷 2022-10-28 오후 1.13.04.png)

POST 방식 

Header에 Content-Type 선언

![스크린샷 2022-10-28 오후 2.10.35](/Users/ksj8277/Desktop/캡쳐/스크린샷 2022-10-28 오후 2.10.35.png)



Parameter란?

API parameter는 리소스의 가변 부분이다. 그들은 리소스에 이용자가 어떤 타입의 행동을 취할지 결정해준다. 

각각의 파라미터는 이름이 있고, 값타입이 있고, 선택적으로 설명이 있다.

만약 REST API를 사용할 것이라면 당신은 엔드포인트에 어떤 매개변수가 있어야 하는지 결정해야 한다. 



HTTP란? 

인터넷을 통해 요청 및 응답을 구조화하는데 사용된다.



웹 != 인터넷

인터넷은 컴퓨터 네트쿼으들을 서로 연결 지어주는 범지구적 네트워크



웹(www)도 인터넷 위에서 동작하는 서비스들 중 하나 



웹의 목적, 존재 이유는 뭘까?

 웹의 존재 이유는 정보의 공유

웹은 수많은 요청과 응답 사이클의 연속으로 이루어짐 



서버 : 정보, 자원, 서비스를 제공 / 요청을 받고 응답하는 측 

클라이언트 : 정보, 자원, 서비스를 사용하는  요청을 보내는 측 

HTTP라는 프로토콜(규약)을 통해 요청과 응답을 함



HTTP 특성

- 비연결성

  클라이언트의 요청에 대해 서버가 응답을 마치면 연결을 끊어버린 다음, 요청은 새로운 연결을 통해 이루어진다.

  단점 : 매번 모든 요청에 대해서 새로운 연결/해제 과정을 거치므로 네트워크 비용측면에서 비효율적

- 무상태성

  서버와 클라이언트는 하나의 요청이 진행되는 동안만 서로를 인지 

​		단점: 클라이언트 인증(로그인)이 필요한 서비스에서 불편함

​		ex) 쿠팡에서 물건을 하나 구매하기 위해 로그인하고, 장바구니에 들어		가기 위해 또 로그인하고 

​        보완책: 쿠키, 세션, 토큰 -> 상태를 기억하기 위한 기능들

​		

POST 

Request Payload : 작성한 내용들이 안에 들어 있음

